# 插件合规 review

请对照如下各项进行检查，并填写检查结果

|      | **检查项**               | **检查内容**                                                 | **检查结果**                                                 |
| :--- | :----------------------- | :----------------------------------------------------------- | ------------------------------------------------------------ |
| 1    | 是否会修改本地文件系统   | 理论上插件只会使用 DolphinDB 内部的数据表存储数据，如果需要额外修改本地文件系统，需要说明用途，确保不会对 DolphinDB 运行产生影响。 | 不会修改                                                     |
| 2    | 是否使用第三方库         | 如果依赖第三方库，它会有额外的环境要求、编译器要求，与 DolphinDB 可能也有一定的兼容性问题。如果使用第三方库需要说明它的环境要求、编译器要求，是否存在已知的 bug。如果第三方库是开源的，需要注明开源协议，确保不侵犯第三方的版权，包括代码、文档和资源。 | 使用了开源库 [Apache Arrow](https://arrow.apache.org/)，不侵犯第三方产权，其它详见表格后面第三方库依赖说明 (Third-Party Dependencies) |
| 3    | 是否使用额外的线程       | 理论上插件内也是用 DolphinDB 内部的线程处理数据，如果需要额外启用线程，或者第三方起线程，需要说明额外线程的用途、数量，避免对 DolphinDB 的稳定性和性能造成影响。 | 否                       |
| 4    | 是否需要联网             | DolphinDB 需要确保客户生产环境的安全性，因此如果插件中需要连接外网，需要说明联网的用途、联网的方式，确保系统的安全性。 | 需要连接外部 ftp 服务器                                    |
| 5    | 是否会收集数据、联网发送 | 确保客户的数据安全对 DolphinDB 来说至关重要，我们不允许插件收集客户的数据文件，本地环境信息，更不允许将这些数据通过联网发送到外部。 | 不会收集                                                     |



## 第三方库依赖说明 (Third-Party Dependencies)
本插件 (parquetWin) 在开发和运行过程中使用了以下开源第三方库。所有使用的库均遵循其相应的开源协议，未侵犯任何第三方的版权。使用者在分发或修改本插件时，需遵守以下协议规定。

- 1. Apache Arrow

库名称：Apache Arrow (及附属的 Parquet C++ 组件) 。


开源协议：Apache License 2.0 。该协议允许商业使用、修改和分发，只需保留原始版权声明和许可协议即可，不侵犯第三方版权 。

环境要求：


操作系统：支持 Windows (x64) 和 Linux 平台 。


依赖项：在处理 Parquet 文件时，通常需要集成压缩库（如 Snappy, Zstd, Gzip, LZ4），这些通常作为 Arrow 的子模块或静态库链接 。

编译器要求：


C++ 标准：Apache Arrow 近期版本通常要求 C++17 或更高版本的编译器支持 。


Windows 平台：由于 Arrow 官方对 Windows 的支持主要基于 MSVC，

与 DolphinDB 的兼容性：


数据类型映射：Apache Arrow 的列式存储结构与 DolphinDB 的内存列存储非常相似，兼容性良好 。



已知问题 (Known Bugs)：


复杂类型限制：在处理嵌套类型（如嵌套的 List 或 Map）时，直接转换为 DolphinDB 扁平化表结构可能需要额外的转换逻辑 。


空值处理：Apache Arrow 的 Null 位图机制与 DolphinDB 的常量占位符（如 INT_MIN）在转换时需严格对齐 。本项目已通过 setNullFlag(true) 及显式空值检查逻辑解决了此问题 。


社区反馈：建议关注 [Apache Arrow GitHub Issues](https://github.com/apache/arrow/issues) 以获取最新的社区维护动态 。